
#include "StaticObjectManager.h"
#include "StaticObject.h"

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
StaticObjectManager::StaticObjectManager()
{
	m_vecStaticObjects.clear();
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
StaticObjectManager::~StaticObjectManager()
{
	m_vecStaticObjects.clear();
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void StaticObjectManager::GatherStaticObject(StaticObject* _object)
{
	_object->Init();
	m_vecStaticObjects.push_back(_object);
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
StaticObject* StaticObjectManager::GetStaticObjectAt(int id)
{
	return m_vecStaticObjects.at(id);
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void StaticObjectManager::RenderAll()
{
	std::vector<StaticObject*>::iterator iter = m_vecStaticObjects.begin();

	for (; iter != m_vecStaticObjects.end(); ++iter)
	{
		(*iter)->Render();
	}
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void StaticObjectManager::RenderAllToShadowmap()
{
	std::vector<StaticObject*>::iterator iter = m_vecStaticObjects.begin();

	for (; iter != m_vecStaticObjects.end(); ++iter)
	{
		(*iter)->RenderShadowMap();
	}
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void StaticObjectManager::UpdateAll(float dt)
{
	std::vector<StaticObject*>::iterator iter = m_vecStaticObjects.begin();

	for (; iter != m_vecStaticObjects.end(); ++iter)
	{
		(*iter)->Update(dt);
	}
}
